# 05-VIRT-01

Задача 1
Опишите кратко, в чём основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.
Паравиртуализация — техника виртуализации, при которой гостевые операционные системы подготавливаются для исполнения в виртуализированной среде, для чего их ядро незначительно модифицируется. Операционная система взаимодействует с программой Гипервизора, который предоставляет ей гостевой API, вместо использования напрямую таких ресурсов, как таблица страниц памяти. Код, касающийся виртуализации, локализуется непосредственно в операционную систему. Паравиртуализация таким образом требует, чтобы гостевая операционная система была изменена для гипервизора, и это является недостатком метода, так как подобное изменение возможно лишь в случае, если гостевые ОС имеют открытые исходные коды, которые можно модифицировать согласно лицензии. Но зато паравиртуализация предлагает производительность почти как у реальной не виртуализированной системы. Как и при полной виртуализации, одновременно могут поддерживаться многочисленные различные операционные системы.
Программная виртуализация подразумевает наличие хостовой операционной системы, поверх которой запускается платформа виртуализации, эмулирующая работу аппаратных компонентов и управляющая аппаратными ресурсами в отношении гостевой операционной системы. С помощью аппаратной виртуализации возможно получение изолированных гостевых систем, управляемых гипервизором напрямую. Такой подход может обеспечить простоту реализации платформы виртуализации и увеличить надежность платформы с несколькими одновременно запущенными гостевыми системами, при этом нет потерь производительности на обслуживание хостовой системы. Такая модель позволит приблизить производительность гостевых систем к реальным и сократить затраты производительности на поддержание хостовой платформы.

Виртуализации на основе ОС - смысл в том, что это виртуализация физического сервера на уровне операционной системы в целях создания нескольких защищенных виртуализованных серверов на одном физическом. Гостевая система, в данном случае, разделяет использование одного ядра хостовой операционной системы с другими гостевыми системами. Виртуальная машина представляет собой окружение для приложений, запускаемых изолированно. Данный тип виртуализации применяется при организации систем хостинга, когда в рамках одного экземпляра ядра требуется поддерживать несколько виртуальных серверов клиентов.


Задача 2
Выберите один из вариантов использования организации физических серверов в зависимости от условий использования.
Организация серверов:
физические сервера,
паравиртуализация,
виртуализация уровня ОС.
Условия использования:
высоконагруженная база данных, чувствительная к отказу; физические сервера
различные web-приложения; Виртуализации уровня ОС (контейнеры
Windows-системы для использования бухгалтерским отделом; паравиртуализация - она лучше (фс лишком жирно) , виртуализация уровня контейнер (хоть и существуют win-контейнера) классические контейнера проще и надежнее
системы, выполняющие высокопроизводительные расчёты на GPU. паравиртуализация - позволяет создать это, c другой стороны прокинуть аппаратные ресурсы в ось
Опишите, почему вы выбрали к каждому целевому использованию такую организацию.
Задача 3
Я тут таблицу свел с вики https://docs.google.com/spreadsheets/d/1BmWfMIYWN5R3t7Z05-PIo3sbXnpqwOyGLl2EXoyKHsY/edit?usp=sharing


Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.
Сценарии:
100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based-инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий. VMware vSphere - серверов  много. Поддерживает любые гостевые ОСи. 
Требуется наиболее производительное бесплатное open source-решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин. XEN - он бесплатен. Поддерживает Линукс и Шиндошс
Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows-инфраструктуры. Microsoft Hyper-V. Потому что у него лицензия бесплатно предоставляется при наличии лицензии WinServer.
Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux. DOCKER. Позволяет упакованное в нем приложение (со всем его, приложения, окружением) развернуть на ЛЮБОЙ Linux-системе. Так же подойдет и VirtualBox. Зависит от сценариев развертывания и тестирования. Рискну предположить что подойдет и OpenVZ.
Задача 4
Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.



Проблемы и недостатки гетерогенной среды виртуализации могут включать в себя:

1. Сложность управления и мониторинга: Использование разных систем управления виртуализацией приводит к трудностям в управлении и мониторинге ресурсов и приложений, что может привести к ошибкам и сбоям.

2. Совместимость: Нет гарантии, что все гипервизоры, готовые образы виртуальных машин и приложения будут совместимы между собой и можно будет использовать их в рамках одной системы.

3. Безопасность: Настройка безопасности и обеспечение соответствия стандартам безопасности может быть сложной задачей при использовании нескольких систем управления виртуализацией.

4. Обучение и поддержка: Использование нескольких систем виртуализации может потребовать дополнительных затрат на обучение сотрудников и поддержку.

Для минимизации этих рисков и проблем, необходимо:

1. Создать единую систему управления всеми гипервизорами и приложениями виртуализации.

2. Регулярно проверять совместимость новых образов виртуальных машин и приложений с уже существующими в системе.

3. Практиковать оптимизацию ресурсов, которая помогает сократить издержки на поддержку и обеспечить максимальную производительность систем.

4. Обеспечить обучение для персонала и наличие специалистов в области гетерогенной среды виртуализации.

Если бы у меня был выбор, я бы не создавал гетерогенную среду виртуализации, потому что она сложна в управлении и может привести к ошибкам и сбоям. Я склоняюсь к идее использования единой системы управления всеми гипервизорами и приложениями виртуализации, может быть OpenStack (открытая облачная платформа), которая позволяет обеспечить единую управляемую среду.
